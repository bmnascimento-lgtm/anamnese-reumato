<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Gerador Reumato Avançado</title>

<style>
body { font-family: Arial; margin:40px; max-width:1000px; }
h2 { margin-top:25px; }
label { display:block; margin-top:5px; }
textarea { width:100%; margin-top:20px; }
button { margin-top:15px; padding:10px; margin-right:10px; }
.section { border:1px solid #ddd; padding:15px; border-radius:10px; margin-top:20px; }
</style>
</head>

<body>

<h1>Gerador de Evolução - Reumatologia</h1>

<div class="section">
<h2>HDA</h2>

<label>Tipo de acometimento:
<select id="tipo">
<option value="">Selecione</option>
<option value="periférico">Periférico</option>
<option value="axial">Axial</option>
<option value="misto">Misto</option>
</select></label>

<h3>Articulações:</h3>
<label><input type="checkbox" value="mãos"> Mãos</label>
<label><input type="checkbox" value="punhos"> Punhos</label>
<label><input type="checkbox" value="joelhos"> Joelhos</label>
<label><input type="checkbox" value="tornozelos"> Tornozelos</label>
<label><input type="checkbox" value="pés"> Pés</label>
<label><input type="checkbox" value="coluna lombar"> Coluna lombar</label>
<label><input type="checkbox" value="nega dor articular"> Nega dor articular</label>

<label>Padrão:
<select id="padrao">
<option value="">Selecione</option>
<option value="inflamatório">Inflamatório</option>
<option value="mecânico">Mecânico</option>
</select></label>

<label>Rigidez matinal:
<select id="rigidez">
<option value="">Selecione</option>
<option value=">1h">> 1h</option>
<option value="<30min">< 30min</option>
<option value="nega">Nega</option>
</select></label>

</div>

<div class="section">
<h2>ISDA</h2>

<label><input type="checkbox" value="febre"> Febre</label>
<label><input type="checkbox" value="fadiga"> Fadiga</label>
<label><input type="checkbox" value="rash malar"> Rash malar</label>
<label><input type="checkbox" value="fotossensibilidade"> Fotossensibilidade</label>
<label><input type="checkbox" value="úlcera oral"> Úlcera oral</label>
<label><input type="checkbox" value="Raynaud"> Raynaud</label>
<label><input type="checkbox" value="olho seco"> Olho seco</label>
<label><input type="checkbox" value="boca seca"> Boca seca</label>
<label><input type="checkbox" value="nega sintomas sistêmicos"> Nega sintomas sistêmicos</label>

</div>

<div class="section">
<h2>EXAME FÍSICO</h2>

<label><input type="checkbox" value="artrite objetiva"> Artrite objetiva</label>
<label><input type="checkbox" value="simétrica"> Artrite simétrica</label>
<label><input type="checkbox" value="rash presente"> Rash presente</label>
<label><input type="checkbox" value="força reduzida"> Força reduzida</label>
<label><input type="checkbox" value="exame sem alterações"> Exame sem alterações</label>

<label>FAN:
<select id="fan">
<option value="">Não informado</option>
<option value="positivo">Positivo</option>
<option value="negativo">Negativo</option>
</select></label>

</div>

<button onclick="gerar()">Gerar Evolução Completa</button>
<button onclick="copiar()">Copiar Texto</button>

<textarea id="resultado" rows="30"></textarea>

<script>

function gerar(){

let checks = document.querySelectorAll("input[type=checkbox]:checked");
let dados = [];
checks.forEach(cb => dados.push(cb.value));

let tipo = document.getElementById("tipo").value;
let padrao = document.getElementById("padrao").value;
let rigidez = document.getElementById("rigidez").value;
let fan = document.getElementById("fan").value;

let texto = "HDA:\nPaciente com acometimento " + (tipo || "não especificado") + ", apresentando ";
texto += dados.join(", ");
if(padrao) texto += ", padrão " + padrao;
if(rigidez) texto += ", rigidez matinal " + rigidez;
texto += ".\n\n";

texto += "ISDA:\n" + dados.join(", ") + ".\n\n";

texto += "EXAME FÍSICO:\n" + dados.join(", ");
if(fan) texto += ", FAN " + fan;
texto += ".\n\n";

let hipoteses = [];
let exames = [];

/* AR */
if(dados.includes("artrite objetiva") &&
dados.includes("simétrica") &&
rigidez == ">1h"){
hipoteses.push("Artrite Reumatoide");
exames.push("- FR\n- Anti-CCP\n- VHS\n- PCR\n- RX mãos e punhos\n");
}

/* LES */
if((dados.includes("rash malar") || dados.includes("fotossensibilidade")) &&
dados.includes("úlcera oral") &&
fan == "positivo"){
hipoteses.push("Lúpus Eritematoso Sistêmico");
exames.push("- Anti-dsDNA\n- Anti-Sm\n- C3 e C4\n- EAS\n- Proteinúria 24h\n- Hemograma\n");
}

/* Espondiloartrite */
if(tipo == "axial" && padrao == "inflamatório"){
hipoteses.push("Espondiloartrite");
exames.push("- HLA-B27\n- VHS\n- PCR\n- RX sacroilíacas\n- RNM sacroilíacas\n");
}

/* Sjogren */
if(dados.includes("olho seco") && dados.includes("boca seca")){
hipoteses.push("Síndrome de Sjögren");
exames.push("- Anti-SSA (Ro)\n- Anti-SSB (La)\n- FAN\n- Teste de Schirmer\n");
}

texto += "HIPÓTESES DIAGNÓSTICAS:\n";
if(hipoteses.length > 0){
texto += hipoteses.join(", ");
}else{
texto += "A esclarecer.";
}

texto += "\n\nEXAMES SUGERIDOS CONFORME HIPÓTESE:\n";
if(exames.length > 0){
texto += exames.join("\n");
}else{
texto += "- Avaliação inicial com hemograma, VHS e PCR.\n";
}

texto += "\nCONDUTA:\n";
texto += "- Iniciar sintomáticos se necessário.\n";
texto += "- Encaminhar para reumatologia conforme gravidade.\n";

document.getElementById("resultado").value = texto;
}

function copiar(){
let texto = document.getElementById("resultado");
texto.select();
document.execCommand("copy");
alert("Texto copiado!");
}

</script>

</body>
</html>
